[build]
builder = "NIXPACKS"

[deploy]
startCommand = "cd server && npm start"
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[env]
NODE_ENV = "production"
PORT = "8080"
REDIS_URL = "disabled"
ALLOWED_ORIGINS = "https://kit-basher.github.io,https://dark-city-game-production.up.railway.app"
MONGODB_URI = "${{MONGODB_URI}}"
API_KEY = "${{API_KEY}}"
JWT_SECRET = "${{JWT_SECRET}}"
DISCORD_WEBHOOK_URL = "${{DISCORD_WEBHOOK_URL}}"
BCRYPT_ROUNDS = "12"
REPO_OWNER = "Kit-Basher"
REPO_NAME = "dark-city-game"
ENABLE_GITHUB_INTEGRATION = "false"
ENABLE_DISCORD_NOTIFICATIONS = "false"
CALENDAR_MONTHS_TO_LOAD = "3"
MAX_CHARACTERS_PER_PAGE = "12"
LOG_LEVEL = "info"
